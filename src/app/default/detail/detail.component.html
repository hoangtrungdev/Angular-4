<app-loading *ngIf="loading" ></app-loading>
<div class="animated bounceInDown" id="detail-page" *ngIf="detailInfo">
    <div class="main container">
        <div class="tab-title clearfix">
            <h2 class="title">CHI TIẾT SẢN PHẨM</h2>
        </div>
        <div class="row">
            <div class="col-main col-sm-12">
                <div class="row">
                    <div class="product-img-box col-sm-4">
                        <img src="/assets/default/products/{{detailInfo.avatar}}" alt="">
                    </div>
                    <div class="product-shop col-sm-4">
                        <div class="detail-box">
                            <div class="std">
                                <h4 class="product_code">Mã sản phẩm : {{detailInfo.pid}}</h4>
                            </div>
                        </div>
                        <div class="product-info">
                            <div class="product-price">
                                <div class="special-price" *ngIf="detailInfo.quantity!='0'">
                                <span *ngIf="detailInfo.saleoff">
                                     <del class="sale-price">{{detailInfo.price | number : '1.0-0' }} đ</del>
                                    <span class="price">{{detailInfo.sale_price | number : '1.0-0' }} đ</span>
                                </span>
                                    <span *ngIf="!detailInfo.saleoff">
                                    <span class="price">{{detailInfo.price | number : '1.0-0' }} đ</span>
                                </span>
                                </div>
                                <div *ngIf="detailInfo.quantity=='0'" style="font-size: 1.2em;">Hết hàng</div>
                            </div>
                            <div class="detail-box">
                                <button class="btn-dat-hang" *ngIf="detailInfo.quantity > 0" (click)="addToCart(detailInfo)">
                                    <i class="fa fa-mail-forward"></i>
                                    Đặt hàng
                                </button>
                                <span *ngIf="detailInfo.quantity <= 0">
                                    <i class="fa fa-exclamation-circle"></i>
                                    Sản phẩm tạm hết hàng .
                                </span>
                            </div>
                        </div>

                        <div class="product-info-luuy">
                            <strong><span class="fa fa-exclamation-circle"></span> <i>Lưu ý:</i></strong>
                            Halley Store là kho hàng, bạn không nên đến tận nơi mới chọn mẫu,
                            chỉ nên đến tận nơi để xem mẫu đã chọn.
                        </div>

                    </div>
                    <div class="sidebar col-sm-4">
                        <div class="custom-block custom-block-1">
                            <div class="pointer">
                                <i class="fa fa-road"></i>
                                <h3>Phí giao hàng tận nơi</h3>
                            </div>
                            <div class="pointer">
                                <i class="fa fa-refresh"></i>
                                <h3>Đổi trả, bảo hành</h3>
                            </div>
                            <div class="pointer">
                                <i class="fa fa-phone"></i>
                                <h3>097.456.9396</h3>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="info-detail">
            <ngb-tabset >
                <ngb-tab>
                    <ng-template ngbTabTitle>
                        <div class="tab-title">Thông tin chi tiết</div>
                    </ng-template>
                    <ng-template ngbTabContent>
                        <div class="text-center">
                            <p><img *ngFor="let image of detailInfo.detail_img" alt="" class="img-responsive" src="/assets/default/products_detail/{{image}}" style="margin:0 auto"></p>
                        </div>
                    </ng-template>
                </ngb-tab>
                <ngb-tab *ngIf="detailInfo.video &&  detailInfo.video != 0 &&  detailInfo.video != '' ">
                    <ng-template ngbTabTitle>
                        <div class="tab-title">Video</div>
                    </ng-template>
                    <ng-template ngbTabContent>
                        <div class="content-video">
                            <div style="position:relative;height:0;padding-bottom:56.25%">
                                <iframe [src]="('https://www.youtube.com/embed/'+detailInfo.video+'?ecver=2') | safe"
                                        width="640" height="360" frameborder="0"
                                        style="position:absolute;width:100%;height:100%;left:0" allowfullscreen></iframe>
                            </div>
                        </div>

                    </ng-template>
                </ngb-tab>
            </ngb-tabset>
        </div>
    </div>
</div>
